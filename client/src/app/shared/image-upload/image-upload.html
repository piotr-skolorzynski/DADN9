<div class="flex w-full gap-6 min-h-100">
  <div class="flex items-center gap-4 w-2/3">
    <label
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave($event)"
      (drop)="onDrop($event)"
      for="dropzone-file"
      [class]="{
        'border-purple-600': isDragging,
        'border-4': isDragging,
        'bg-purple-100': isDragging,
      }"
      class="flex flex-col items-center justify-center w-full border-2 border-gray-300 border-dashed rounded-lg cursor-pointer h-full">
      <p class="mb-2 text-lg">Click to upload or drag and drop</p>
      <input type="file" id="dropzone-file" class="hidden" />
    </label>
  </div>

  @if (imageSrc()) {
    <div class="flex flex-col w-1/3 gap-3">
      <div class="flex justify-center border-2 border-gray-300 rounded-lg">
        <img
          [src]="imageSrc()"
          alt="image preview"
          class="aspect-square object-cover rounded-lg" />
      </div>

      <div class="flex w-full gap-3">
        <button class="btn flex-1" (click)="onCancel()">Cancel</button>
        <button
          class="btn btn-primary flex-1"
          (click)="onUploadFile()"
          [disabled]="loading()">
          @if (loading()) {
            <span class="loading loading-spinner"></span>
          }

          Upload image
        </button>
      </div>
    </div>
  }
</div>
